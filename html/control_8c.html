<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nautilus: control.c File Reference</title>
<link rel="icon" href="Batch_Nautilus.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ARIS_space_to_grow_LOGO-white_small.png"/></td>
  <td id="projectalign">
   <div id="projectname">Nautilus<span id="projectnumber">&#160;Version: AB</span>
   </div>
   <div id="projectbrief">BCU: Buoyancy Control Unit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_63e774cadabf8a051107547acf4518c5.html">01_SW_BCU</a></li><li class="navelem"><a class="el" href="dir_05461ba428e70298616634a8fc5a3ddf.html">Core</a></li><li class="navelem"><a class="el" href="dir_a8584ae91254410a4f52a5a61cee2eb3.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">control.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;stm32l4xx_hal.h&quot;</code><br />
<code>#include &quot;cmsis_os.h&quot;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
<code>#include &quot;queue.h&quot;</code><br />
<code>#include &quot;timers.h&quot;</code><br />
<code>#include &quot;semphr.h&quot;</code><br />
<code>#include &quot;<a class="el" href="platform_8h_source.html">platform.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="control_8h_source.html">control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="app_8h_source.html">app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pwm_8h_source.html">pwm.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="system_8h_source.html">system.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gpio_8h_source.html">gpio.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="analog_8h_source.html">analog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="can_8h_source.html">can.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for control.c:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c__incl.png" border="0" usemap="#acontrol_8c" alt=""/></div>
<map name="acontrol_8c" id="acontrol_8c">
<area shape="rect" title=" " alt="" coords="519,5,590,32"/>
<area shape="rect" title=" " alt="" coords="787,229,852,256"/>
<area shape="poly" title=" " alt="" coords="591,19,706,25,856,37,990,54,1037,65,1063,78,1071,91,1073,106,1065,134,1046,162,1024,183,987,207,946,224,904,234,868,240,867,235,903,229,944,219,984,202,1021,179,1042,158,1060,132,1068,105,1066,93,1059,82,1035,70,989,59,855,42,706,31,590,24"/>
<area shape="rect" title=" " alt="" coords="457,229,531,256"/>
<area shape="poly" title=" " alt="" coords="519,27,407,46,355,62,335,71,323,82,313,102,315,122,325,142,344,161,394,195,448,221,445,225,391,199,340,165,321,145,310,124,308,101,319,78,332,67,353,57,406,40,518,21"/>
<area shape="rect" title=" " alt="" coords="61,80,125,107"/>
<area shape="poly" title=" " alt="" coords="519,26,359,46,141,82,140,77,358,41,518,21"/>
<area shape="rect" title=" " alt="" coords="37,229,154,256"/>
<area shape="poly" title=" " alt="" coords="518,24,249,44,111,61,63,71,37,82,18,104,9,127,10,152,21,180,37,202,58,219,54,223,33,206,16,183,5,153,4,126,13,102,34,78,61,66,110,56,248,38,518,19"/>
<area shape="rect" title=" " alt="" coords="897,155,985,181"/>
<area shape="poly" title=" " alt="" coords="591,20,703,36,770,53,835,78,883,108,921,142,918,146,880,113,833,82,769,58,702,41,590,25"/>
<area shape="rect" href="main_8h.html" title=": Header for main.c file. This file contains the common defines of the application." alt="" coords="31,155,91,181"/>
<area shape="poly" title=" " alt="" coords="518,24,403,31,254,42,120,59,74,70,51,82,44,94,43,109,50,140,45,141,37,109,39,93,47,78,73,65,119,54,254,37,402,25,518,19"/>
<area shape="rect" title=" " alt="" coords="333,80,400,107"/>
<area shape="poly" title=" " alt="" coords="522,35,414,76,412,71,521,30"/>
<area shape="rect" title=" " alt="" coords="424,80,492,107"/>
<area shape="poly" title=" " alt="" coords="539,35,489,73,485,68,536,30"/>
<area shape="rect" title=" " alt="" coords="517,80,592,107"/>
<area shape="poly" title=" " alt="" coords="557,33,557,64,552,64,552,33"/>
<area shape="rect" href="platform_8h.html" title=" " alt="" coords="616,80,695,107"/>
<area shape="poly" title=" " alt="" coords="573,30,627,68,624,73,570,35"/>
<area shape="rect" href="control_8h.html" title=" " alt="" coords="593,155,665,181"/>
<area shape="poly" title=" " alt="" coords="591,20,621,26,653,37,684,54,709,79,714,99,706,118,689,135,669,149,666,144,686,130,701,115,708,98,704,81,681,58,651,42,620,31,590,26"/>
<area shape="rect" href="app_8h.html" title=" " alt="" coords="769,80,822,107"/>
<area shape="poly" title=" " alt="" coords="591,28,755,77,753,82,590,33"/>
<area shape="rect" href="pwm_8h.html" title=" " alt="" coords="149,80,208,107"/>
<area shape="poly" title=" " alt="" coords="519,28,390,51,227,83,224,83,222,78,226,77,389,45,518,23"/>
<area shape="rect" href="system_8h.html" title=" " alt="" coords="897,80,972,107"/>
<area shape="poly" title=" " alt="" coords="591,24,879,77,882,78,881,83,878,83,590,29"/>
<area shape="rect" href="gpio_8h.html" title=" " alt="" coords="217,155,273,181"/>
<area shape="poly" title=" " alt="" coords="519,26,386,45,321,62,296,71,279,82,268,94,260,109,251,140,246,139,255,107,263,91,275,78,294,67,320,57,385,40,518,21"/>
<area shape="rect" href="analog_8h.html" title=" " alt="" coords="1123,155,1193,181"/>
<area shape="poly" title=" " alt="" coords="590,17,704,19,856,27,933,34,1004,45,1063,59,1106,78,1122,90,1134,106,1151,138,1147,141,1130,109,1118,94,1104,82,1062,64,1003,50,932,40,856,32,704,24,590,23"/>
<area shape="rect" href="can_8h.html" title=" " alt="" coords="996,80,1049,107"/>
<area shape="poly" title=" " alt="" coords="591,20,756,39,866,55,981,77,980,82,865,60,755,44,590,26"/>
<area shape="poly" title=" " alt="" coords="69,181,85,214,81,216,65,183"/>
<area shape="poly" title=" " alt="" coords="663,179,774,221,772,226,661,184"/>
<area shape="poly" title=" " alt="" coords="607,184,533,224,530,219,604,180"/>
<area shape="poly" title=" " alt="" coords="809,105,824,127,837,154,839,186,833,215,828,214,834,185,832,155,820,130,804,108"/>
<area shape="poly" title=" " alt="" coords="783,109,738,145,678,184,611,212,547,231,546,226,609,207,676,179,735,141,780,105"/>
<area shape="poly" title=" " alt="" coords="770,109,673,151,671,146,767,104"/>
<area shape="rect" href="measure_8h.html" title=" " alt="" coords="740,155,822,181"/>
<area shape="poly" title=" " alt="" coords="796,108,789,140,784,139,790,107"/>
<area shape="poly" title=" " alt="" coords="790,181,808,214,803,217,785,183"/>
<area shape="poly" title=" " alt="" coords="740,182,547,231,546,226,739,177"/>
<area shape="poly" title=" " alt="" coords="209,99,773,228,771,233,208,104"/>
<area shape="poly" title=" " alt="" coords="181,106,186,143,194,163,207,179,223,190,247,200,309,215,442,234,441,239,308,221,245,205,221,195,203,183,190,165,181,144,176,107"/>
<area shape="poly" title=" " alt="" coords="174,108,112,217,108,214,169,106"/>
<area shape="poly" title=" " alt="" coords="159,109,96,149,93,144,156,105"/>
<area shape="poly" title=" " alt="" coords="274,175,292,179,428,200,563,217,773,236,772,241,563,222,427,206,291,184,273,180"/>
<area shape="poly" title=" " alt="" coords="274,175,443,224,442,229,273,180"/>
<area shape="poly" title=" " alt="" coords="220,184,137,224,134,220,218,179"/>
<area shape="poly" title=" " alt="" coords="1123,180,1106,184,868,234,866,229,1104,179,1122,175"/>
<area shape="poly" title=" " alt="" coords="1025,107,1019,144,1011,165,999,183,969,206,935,223,900,234,868,240,867,235,899,228,933,218,966,202,995,180,1007,162,1014,143,1019,107"/>
<area shape="poly" title=" " alt="" coords="1010,109,968,146,964,142,1006,105"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a80825df7d911faa99554cbe165590474" id="r_a80825df7d911faa99554cbe165590474"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80825df7d911faa99554cbe165590474">DAC_MAX</a>&#160;&#160;&#160;4095</td></tr>
<tr class="separator:a80825df7d911faa99554cbe165590474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825ba6cba5f847772e59ac814445b20d" id="r_a825ba6cba5f847772e59ac814445b20d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a825ba6cba5f847772e59ac814445b20d">DAC_2V</a>&#160;&#160;&#160;2482</td></tr>
<tr class="separator:a825ba6cba5f847772e59ac814445b20d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abf59846dabf313d35a7579cc7aac7a48" id="r_abf59846dabf313d35a7579cc7aac7a48"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf59846dabf313d35a7579cc7aac7a48">CapArrayLoaded</a> (void)</td></tr>
<tr class="memdesc:abf59846dabf313d35a7579cc7aac7a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the capacitor array is loaded.  <br /></td></tr>
<tr class="separator:abf59846dabf313d35a7579cc7aac7a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b0e3fe264f62d03d90e0d5eee478f4" id="r_af4b0e3fe264f62d03d90e0d5eee478f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4b0e3fe264f62d03d90e0d5eee478f4">lTimerCallback</a> (TimerHandle_t xTimer)</td></tr>
<tr class="memdesc:af4b0e3fe264f62d03d90e0d5eee478f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer callback function. It will load the capacitor array for 9ms then wait for 9ms till the array is fully loaded.  <br /></td></tr>
<tr class="separator:af4b0e3fe264f62d03d90e0d5eee478f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b5bccfe7b559e70e81d4db11d37f21" id="r_aa2b5bccfe7b559e70e81d4db11d37f21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2b5bccfe7b559e70e81d4db11d37f21">SetPWMConfig</a> (uint8_t out, uint16_t istart, uint16_t istop)</td></tr>
<tr class="memdesc:aa2b5bccfe7b559e70e81d4db11d37f21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the PWM configuration for a specific output channel.  <br /></td></tr>
<tr class="separator:aa2b5bccfe7b559e70e81d4db11d37f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19a26662f637f824c3106877abcccc30" id="r_a19a26662f637f824c3106877abcccc30"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19a26662f637f824c3106877abcccc30">getVal</a> (uint8_t outputn, uint16_t val)</td></tr>
<tr class="memdesc:a19a26662f637f824c3106877abcccc30"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function recalculate the value to be in boundrey from valmin and valmax.  <br /></td></tr>
<tr class="separator:a19a26662f637f824c3106877abcccc30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6280444563f4376ab0a405e31fb61dd3" id="r_a6280444563f4376ab0a405e31fb61dd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6280444563f4376ab0a405e31fb61dd3">resetHB</a> (void)</td></tr>
<tr class="memdesc:a6280444563f4376ab0a405e31fb61dd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the hardware blocks and deactivates the output pins for H-Bridges.  <br /></td></tr>
<tr class="separator:a6280444563f4376ab0a405e31fb61dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bc557c3cf1bb4f8c7d5b6391f298aa" id="r_a04bc557c3cf1bb4f8c7d5b6391f298aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04bc557c3cf1bb4f8c7d5b6391f298aa">setDigHB</a> (uint8_t <a class="el" href="#a8aeab26c27b95fc84df7b9a84ed1b007">output</a>, bool enable)</td></tr>
<tr class="memdesc:a04bc557c3cf1bb4f8c7d5b6391f298aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Power Output 5 or 6 to ON or OFF the safety signal has to be released.  <br /></td></tr>
<tr class="separator:a04bc557c3cf1bb4f8c7d5b6391f298aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542068544aa686feac15c99bfd046119" id="r_a542068544aa686feac15c99bfd046119"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a542068544aa686feac15c99bfd046119">setHB</a> (uint8_t <a class="el" href="#a8aeab26c27b95fc84df7b9a84ed1b007">output</a>, uint16_t value)</td></tr>
<tr class="memdesc:a542068544aa686feac15c99bfd046119"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a value in the PWM Timer Moudule if the HB is enabled and the safety signal is released.  <br /></td></tr>
<tr class="separator:a542068544aa686feac15c99bfd046119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c2fc44f420b191b9700486423e9712" id="r_a96c2fc44f420b191b9700486423e9712"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96c2fc44f420b191b9700486423e9712">setRelease</a> (uint8_t signal, bool on)</td></tr>
<tr class="memdesc:a96c2fc44f420b191b9700486423e9712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the release status of a specified signal.  <br /></td></tr>
<tr class="separator:a96c2fc44f420b191b9700486423e9712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa048c0a962a452954d807ba2cc6a251b" id="r_aa048c0a962a452954d807ba2cc6a251b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa048c0a962a452954d807ba2cc6a251b">FastLoadCapacitor</a> (void)</td></tr>
<tr class="memdesc:aa048c0a962a452954d807ba2cc6a251b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the capacitor array.  <br /></td></tr>
<tr class="separator:aa048c0a962a452954d807ba2cc6a251b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8cc169e6a48bad193b7eabef662ad3a" id="r_ac8cc169e6a48bad193b7eabef662ad3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8cc169e6a48bad193b7eabef662ad3a">LoadCapacitor</a> (void)</td></tr>
<tr class="memdesc:ac8cc169e6a48bad193b7eabef662ad3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the capacitor array with the resistors only.  <br /></td></tr>
<tr class="separator:ac8cc169e6a48bad193b7eabef662ad3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38877dc6b87a7db6bc0b2783171d2d1c" id="r_a38877dc6b87a7db6bc0b2783171d2d1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38877dc6b87a7db6bc0b2783171d2d1c">DischargeCapacitor</a> (void)</td></tr>
<tr class="memdesc:a38877dc6b87a7db6bc0b2783171d2d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discharge the capacitor array.  <br /></td></tr>
<tr class="separator:a38877dc6b87a7db6bc0b2783171d2d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9453adc1e525d07febbb65397902cf1" id="r_ab9453adc1e525d07febbb65397902cf1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9453adc1e525d07febbb65397902cf1">ChargedCapacitor</a> (void)</td></tr>
<tr class="memdesc:ab9453adc1e525d07febbb65397902cf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fully charged capacitor array.  <br /></td></tr>
<tr class="separator:ab9453adc1e525d07febbb65397902cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b3dfd69a990b69a69c34b19a0e0d98" id="r_ad2b3dfd69a990b69a69c34b19a0e0d98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2b3dfd69a990b69a69c34b19a0e0d98">Control_Init</a> (void)</td></tr>
<tr class="memdesc:ad2b3dfd69a990b69a69c34b19a0e0d98"><td class="mdescLeft">&#160;</td><td class="mdescRight">App Initialization Function.  <br /></td></tr>
<tr class="separator:ad2b3dfd69a990b69a69c34b19a0e0d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bb81409acfe7b92001999be7e89928b" id="r_a5bb81409acfe7b92001999be7e89928b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5bb81409acfe7b92001999be7e89928b">Control_DeInit</a> (void)</td></tr>
<tr class="memdesc:a5bb81409acfe7b92001999be7e89928b"><td class="mdescLeft">&#160;</td><td class="mdescRight">App Deinitialization Function.  <br /></td></tr>
<tr class="separator:a5bb81409acfe7b92001999be7e89928b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2b2839e559538c716119bf996e33c5f8" id="r_a2b2839e559538c716119bf996e33c5f8"><td class="memItemLeft" align="right" valign="top">static TimerHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b2839e559538c716119bf996e33c5f8">LoadTimer</a></td></tr>
<tr class="separator:a2b2839e559538c716119bf996e33c5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0480b812cba9c1d9c71a5fb1071bd0fc" id="r_a0480b812cba9c1d9c71a5fb1071bd0fc"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0480b812cba9c1d9c71a5fb1071bd0fc">counter</a> = 0</td></tr>
<tr class="separator:a0480b812cba9c1d9c71a5fb1071bd0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023242a8abe89419208cfe39bb124e2e" id="r_a023242a8abe89419208cfe39bb124e2e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a023242a8abe89419208cfe39bb124e2e">safetysignal</a></td></tr>
<tr class="separator:a023242a8abe89419208cfe39bb124e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b0fe93f7b683514959d2e651ac9f010" id="r_a5b0fe93f7b683514959d2e651ac9f010"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b0fe93f7b683514959d2e651ac9f010">hbenable</a></td></tr>
<tr class="separator:a5b0fe93f7b683514959d2e651ac9f010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aeab26c27b95fc84df7b9a84ed1b007" id="r_a8aeab26c27b95fc84df7b9a84ed1b007"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpwm__t.html">pwm_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8aeab26c27b95fc84df7b9a84ed1b007">output</a> [4]</td></tr>
<tr class="separator:a8aeab26c27b95fc84df7b9a84ed1b007"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a825ba6cba5f847772e59ac814445b20d" name="a825ba6cba5f847772e59ac814445b20d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a825ba6cba5f847772e59ac814445b20d">&#9670;&#160;</a></span>DAC_2V</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DAC_2V&#160;&#160;&#160;2482</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a80825df7d911faa99554cbe165590474" name="a80825df7d911faa99554cbe165590474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80825df7d911faa99554cbe165590474">&#9670;&#160;</a></span>DAC_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DAC_MAX&#160;&#160;&#160;4095</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abf59846dabf313d35a7579cc7aac7a48" name="abf59846dabf313d35a7579cc7aac7a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf59846dabf313d35a7579cc7aac7a48">&#9670;&#160;</a></span>CapArrayLoaded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CapArrayLoaded </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the capacitor array is loaded. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the capacitor array is loaded, otherwise false.</dd></dl>
<p>This function checks if the capacitor array is loaded by retrieving the ADC value and checking if it is less than or equal to 150. If true, it returns true; otherwise, false. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_abf59846dabf313d35a7579cc7aac7a48_cgraph.png" border="0" usemap="#acontrol_8c_abf59846dabf313d35a7579cc7aac7a48_cgraph" alt=""/></div>
<map name="acontrol_8c_abf59846dabf313d35a7579cc7aac7a48_cgraph" id="acontrol_8c_abf59846dabf313d35a7579cc7aac7a48_cgraph">
<area shape="rect" title="Check if the capacitor array is loaded." alt="" coords="5,5,123,32"/>
<area shape="rect" href="analog_8c.html#a946992b1a38e0049d5cfe0cd1c4a2cd9" title="Get the ADC value." alt="" coords="171,5,237,32"/>
<area shape="poly" title=" " alt="" coords="123,16,155,16,155,21,123,21"/>
<area shape="rect" href="app_8c.html#a72d43f87749a58cd3c3a050013d62c34" title="Adds an item to the error queue." alt="" coords="285,5,347,32"/>
<area shape="poly" title=" " alt="" coords="237,16,269,16,269,21,237,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_abf59846dabf313d35a7579cc7aac7a48_icgraph.png" border="0" usemap="#acontrol_8c_abf59846dabf313d35a7579cc7aac7a48_icgraph" alt=""/></div>
<map name="acontrol_8c_abf59846dabf313d35a7579cc7aac7a48_icgraph" id="acontrol_8c_abf59846dabf313d35a7579cc7aac7a48_icgraph">
<area shape="rect" title="Check if the capacitor array is loaded." alt="" coords="789,5,907,32"/>
<area shape="rect" href="app_8c.html#a59a19445ce0eff7179732eeb566bc55a" title="Check if the capacitor array is ready." alt="" coords="597,5,741,32"/>
<area shape="poly" title=" " alt="" coords="774,21,742,21,742,16,774,16"/>
<area shape="rect" href="app_8c.html#a6d7bf2ac2364bd030f5e0f50105073a3" title="Run the system in the main operational mode." alt="" coords="449,5,549,32"/>
<area shape="poly" title=" " alt="" coords="582,21,550,21,550,16,582,16"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="328,5,401,32"/>
<area shape="poly" title=" " alt="" coords="433,21,401,21,401,16,433,16"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,5,280,32"/>
<area shape="poly" title=" " alt="" coords="313,21,281,21,281,16,313,16"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,5,164,32"/>
<area shape="poly" title=" " alt="" coords="197,21,164,21,164,16,197,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ab9453adc1e525d07febbb65397902cf1" name="ab9453adc1e525d07febbb65397902cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9453adc1e525d07febbb65397902cf1">&#9670;&#160;</a></span>ChargedCapacitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChargedCapacitor </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fully charged capacitor array. </p>
<p>This function stops the timer responsible for charging the capacitor array, and sets the DAC to its maximum value. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_ab9453adc1e525d07febbb65397902cf1_cgraph.png" border="0" usemap="#acontrol_8c_ab9453adc1e525d07febbb65397902cf1_cgraph" alt=""/></div>
<map name="acontrol_8c_ab9453adc1e525d07febbb65397902cf1_cgraph" id="acontrol_8c_ab9453adc1e525d07febbb65397902cf1_cgraph">
<area shape="rect" title="Fully charged capacitor array." alt="" coords="5,5,130,32"/>
<area shape="rect" href="analog_8c.html#ac4a51847a4d0dc35b4a609888276350b" title="Set an output Value on the DAC." alt="" coords="178,5,244,32"/>
<area shape="poly" title=" " alt="" coords="130,16,162,16,162,21,130,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_ab9453adc1e525d07febbb65397902cf1_icgraph.png" border="0" usemap="#acontrol_8c_ab9453adc1e525d07febbb65397902cf1_icgraph" alt=""/></div>
<map name="acontrol_8c_ab9453adc1e525d07febbb65397902cf1_icgraph" id="acontrol_8c_ab9453adc1e525d07febbb65397902cf1_icgraph">
<area shape="rect" title="Fully charged capacitor array." alt="" coords="789,5,914,32"/>
<area shape="rect" href="app_8c.html#a59a19445ce0eff7179732eeb566bc55a" title="Check if the capacitor array is ready." alt="" coords="597,5,741,32"/>
<area shape="poly" title=" " alt="" coords="774,21,741,21,741,16,774,16"/>
<area shape="rect" href="app_8c.html#a6d7bf2ac2364bd030f5e0f50105073a3" title="Run the system in the main operational mode." alt="" coords="449,5,549,32"/>
<area shape="poly" title=" " alt="" coords="582,21,550,21,550,16,582,16"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="328,5,401,32"/>
<area shape="poly" title=" " alt="" coords="433,21,401,21,401,16,433,16"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,5,280,32"/>
<area shape="poly" title=" " alt="" coords="313,21,281,21,281,16,313,16"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,5,164,32"/>
<area shape="poly" title=" " alt="" coords="197,21,164,21,164,16,197,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a5bb81409acfe7b92001999be7e89928b" name="a5bb81409acfe7b92001999be7e89928b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bb81409acfe7b92001999be7e89928b">&#9670;&#160;</a></span>Control_DeInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Control_DeInit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>App Deinitialization Function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="ad2b3dfd69a990b69a69c34b19a0e0d98" name="ad2b3dfd69a990b69a69c34b19a0e0d98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2b3dfd69a990b69a69c34b19a0e0d98">&#9670;&#160;</a></span>Control_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Control_Init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>App Initialization Function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_ad2b3dfd69a990b69a69c34b19a0e0d98_cgraph.png" border="0" usemap="#acontrol_8c_ad2b3dfd69a990b69a69c34b19a0e0d98_cgraph" alt=""/></div>
<map name="acontrol_8c_ad2b3dfd69a990b69a69c34b19a0e0d98_cgraph" id="acontrol_8c_ad2b3dfd69a990b69a69c34b19a0e0d98_cgraph">
<area shape="rect" title="App Initialization Function." alt="" coords="5,56,92,83"/>
<area shape="rect" href="control_8c.html#af4b0e3fe264f62d03d90e0d5eee478f4" title="Timer callback function. It will load the capacitor array for 9ms then wait for 9ms till the array is..." alt="" coords="140,5,246,32"/>
<area shape="poly" title=" " alt="" coords="88,53,138,35,139,40,90,58"/>
<area shape="rect" href="control_8c.html#a6280444563f4376ab0a405e31fb61dd3" title="Resets the hardware blocks and deactivates the output pins for H&#45;Bridges." alt="" coords="159,56,227,83"/>
<area shape="poly" title=" " alt="" coords="92,67,143,67,143,72,92,72"/>
<area shape="rect" href="control_8c.html#a96c2fc44f420b191b9700486423e9712" title="Sets the release status of a specified signal." alt="" coords="150,107,236,133"/>
<area shape="poly" title=" " alt="" coords="90,81,139,99,138,104,88,86"/>
<area shape="rect" href="analog_8c.html#ac4a51847a4d0dc35b4a609888276350b" title="Set an output Value on the DAC." alt="" coords="309,5,375,32"/>
<area shape="poly" title=" " alt="" coords="247,16,293,16,293,21,247,21"/>
<area shape="rect" href="gpio_8c.html#a9ff9403d81abaaf32eb5e221b9e92929" title="Reset GPIOx Pin." alt="" coords="304,56,380,83"/>
<area shape="poly" title=" " alt="" coords="227,67,288,67,288,72,227,72"/>
<area shape="rect" href="pwm_8c.html#a06cab9bc7173599612154c458f1d7e1f" title="Disable the PWM generation of a all timer and all channel." alt="" coords="294,107,389,133"/>
<area shape="poly" title=" " alt="" coords="228,78,286,98,285,104,226,83"/>
<area shape="poly" title=" " alt="" coords="234,104,288,85,290,90,235,109"/>
<area shape="poly" title=" " alt="" coords="236,117,278,117,278,123,236,123"/>
<area shape="rect" href="gpio_8c.html#abd08e12472f3cc9ae4eb84f3b6fc1587" title="Set GPIOx Pin." alt="" coords="303,157,380,184"/>
<area shape="poly" title=" " alt="" coords="235,131,289,150,287,155,234,136"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_ad2b3dfd69a990b69a69c34b19a0e0d98_icgraph.png" border="0" usemap="#acontrol_8c_ad2b3dfd69a990b69a69c34b19a0e0d98_icgraph" alt=""/></div>
<map name="acontrol_8c_ad2b3dfd69a990b69a69c34b19a0e0d98_icgraph" id="acontrol_8c_ad2b3dfd69a990b69a69c34b19a0e0d98_icgraph">
<area shape="rect" title="App Initialization Function." alt="" coords="212,5,298,32"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,5,164,32"/>
<area shape="poly" title=" " alt="" coords="196,21,165,21,165,16,196,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a38877dc6b87a7db6bc0b2783171d2d1c" name="a38877dc6b87a7db6bc0b2783171d2d1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38877dc6b87a7db6bc0b2783171d2d1c">&#9670;&#160;</a></span>DischargeCapacitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DischargeCapacitor </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Discharge the capacitor array. </p>
<p>This function stops the timer responsible for charging the capacitor array, turns off the GPIO pin associated with discharging the capacitor array, and sets the DAC to the value <b>0</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a38877dc6b87a7db6bc0b2783171d2d1c_cgraph.png" border="0" usemap="#acontrol_8c_a38877dc6b87a7db6bc0b2783171d2d1c_cgraph" alt=""/></div>
<map name="acontrol_8c_a38877dc6b87a7db6bc0b2783171d2d1c_cgraph" id="acontrol_8c_a38877dc6b87a7db6bc0b2783171d2d1c_cgraph">
<area shape="rect" title="Discharge the capacitor array." alt="" coords="5,31,140,57"/>
<area shape="rect" href="gpio_8c.html#a9ff9403d81abaaf32eb5e221b9e92929" title="Reset GPIOx Pin." alt="" coords="188,5,264,32"/>
<area shape="poly" title=" " alt="" coords="139,30,171,25,172,30,140,36"/>
<area shape="rect" href="analog_8c.html#ac4a51847a4d0dc35b4a609888276350b" title="Set an output Value on the DAC." alt="" coords="193,56,259,83"/>
<area shape="poly" title=" " alt="" coords="140,52,178,59,177,64,139,58"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a38877dc6b87a7db6bc0b2783171d2d1c_icgraph.png" border="0" usemap="#acontrol_8c_a38877dc6b87a7db6bc0b2783171d2d1c_icgraph" alt=""/></div>
<map name="acontrol_8c_a38877dc6b87a7db6bc0b2783171d2d1c_icgraph" id="acontrol_8c_a38877dc6b87a7db6bc0b2783171d2d1c_icgraph">
<area shape="rect" title="Discharge the capacitor array." alt="" coords="905,31,1039,57"/>
<area shape="rect" href="app_8c.html#a6d7bf2ac2364bd030f5e0f50105073a3" title="Run the system in the main operational mode." alt="" coords="621,5,721,32"/>
<area shape="poly" title=" " alt="" coords="889,40,722,26,722,20,890,34"/>
<area shape="rect" href="app_8c.html#afa0bd8a9fbb18dccdecdaaccfa5e3141" title="Stops the control operation." alt="" coords="769,56,857,83"/>
<area shape="poly" title=" " alt="" coords="890,60,858,65,857,60,889,55"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="328,56,401,83"/>
<area shape="poly" title=" " alt="" coords="606,26,530,33,449,47,402,60,400,54,448,41,530,28,605,20"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,56,280,83"/>
<area shape="poly" title=" " alt="" coords="313,72,281,72,281,67,313,67"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,56,164,83"/>
<area shape="poly" title=" " alt="" coords="197,72,164,72,164,67,197,67"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,56,55,83"/>
<area shape="poly" title=" " alt="" coords="87,72,55,72,55,67,87,67"/>
<area shape="poly" title=" " alt="" coords="758,53,710,35,712,30,760,48"/>
<area shape="rect" href="bcu_8c.html#ad19eaee2ae8d229ef81f6e38037c02b6" title="Handles failure list requests." alt="" coords="631,56,712,83"/>
<area shape="poly" title=" " alt="" coords="753,72,712,72,712,67,753,67"/>
<area shape="rect" href="app_8c.html#ac0662e044d34f9404cf8b7a95348f2ed" title="Puts the system into sleep mode." alt="" coords="468,107,554,133"/>
<area shape="poly" title=" " alt="" coords="755,89,722,97,633,111,555,119,554,114,632,106,721,92,754,84"/>
<area shape="rect" href="app_8c.html#a3ded7d74e59ec620032bef339ca2cd1b" title="Processes incoming CAN messages." alt="" coords="449,56,573,83"/>
<area shape="poly" title=" " alt="" coords="615,72,573,72,573,67,615,67"/>
<area shape="poly" title=" " alt="" coords="433,72,401,72,401,67,433,67"/>
<area shape="poly" title=" " alt="" coords="455,104,400,84,402,79,457,98"/>
</map>
</div>

</div>
</div>
<a id="aa048c0a962a452954d807ba2cc6a251b" name="aa048c0a962a452954d807ba2cc6a251b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa048c0a962a452954d807ba2cc6a251b">&#9670;&#160;</a></span>FastLoadCapacitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FastLoadCapacitor </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the capacitor array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>This function loads the capacitor array with the resistors and starts a timer for fast capacitor loading.</p>
<p>\Note With the fast charge the loading time is reduced from 30sec to 200ms! This causes pulses with high current! Pay Attention to the Hardware when using it. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_aa048c0a962a452954d807ba2cc6a251b_cgraph.png" border="0" usemap="#acontrol_8c_aa048c0a962a452954d807ba2cc6a251b_cgraph" alt=""/></div>
<map name="acontrol_8c_aa048c0a962a452954d807ba2cc6a251b_cgraph" id="acontrol_8c_aa048c0a962a452954d807ba2cc6a251b_cgraph">
<area shape="rect" title="Load the capacitor array." alt="" coords="5,31,136,57"/>
<area shape="rect" href="gpio_8c.html#abd08e12472f3cc9ae4eb84f3b6fc1587" title="Set GPIOx Pin." alt="" coords="184,5,261,32"/>
<area shape="poly" title=" " alt="" coords="136,30,168,25,169,30,136,36"/>
<area shape="rect" href="analog_8c.html#ac4a51847a4d0dc35b4a609888276350b" title="Set an output Value on the DAC." alt="" coords="189,56,256,83"/>
<area shape="poly" title=" " alt="" coords="136,52,174,59,173,64,136,58"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_aa048c0a962a452954d807ba2cc6a251b_icgraph.png" border="0" usemap="#acontrol_8c_aa048c0a962a452954d807ba2cc6a251b_icgraph" alt=""/></div>
<map name="acontrol_8c_aa048c0a962a452954d807ba2cc6a251b_icgraph" id="acontrol_8c_aa048c0a962a452954d807ba2cc6a251b_icgraph">
<area shape="rect" title="Load the capacitor array." alt="" coords="789,5,920,32"/>
<area shape="rect" href="app_8c.html#a59a19445ce0eff7179732eeb566bc55a" title="Check if the capacitor array is ready." alt="" coords="597,5,741,32"/>
<area shape="poly" title=" " alt="" coords="774,21,742,21,742,16,774,16"/>
<area shape="rect" href="app_8c.html#a6d7bf2ac2364bd030f5e0f50105073a3" title="Run the system in the main operational mode." alt="" coords="449,5,549,32"/>
<area shape="poly" title=" " alt="" coords="582,21,550,21,550,16,582,16"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="328,5,401,32"/>
<area shape="poly" title=" " alt="" coords="433,21,401,21,401,16,433,16"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,5,280,32"/>
<area shape="poly" title=" " alt="" coords="313,21,281,21,281,16,313,16"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,5,164,32"/>
<area shape="poly" title=" " alt="" coords="197,21,164,21,164,16,197,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a19a26662f637f824c3106877abcccc30" name="a19a26662f637f824c3106877abcccc30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19a26662f637f824c3106877abcccc30">&#9670;&#160;</a></span>getVal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t getVal </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>outputn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function recalculate the value to be in boundrey from valmin and valmax. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Output</td><td>with it's own valmin/max boundrey </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Recalculated Value </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a19a26662f637f824c3106877abcccc30_icgraph.png" border="0" usemap="#acontrol_8c_a19a26662f637f824c3106877abcccc30_icgraph" alt=""/></div>
<map name="acontrol_8c_a19a26662f637f824c3106877abcccc30_icgraph" id="acontrol_8c_a19a26662f637f824c3106877abcccc30_icgraph">
<area shape="rect" title="This function recalculate the value to be in boundrey from valmin and valmax." alt="" coords="702,5,761,32"/>
<area shape="rect" href="control_8c.html#a542068544aa686feac15c99bfd046119" title="Set a value in the PWM Timer Moudule if the HB is enabled and the safety signal is released." alt="" coords="597,5,654,32"/>
<area shape="poly" title=" " alt="" coords="687,21,655,21,655,16,687,16"/>
<area shape="rect" href="app_8c.html#a6d7bf2ac2364bd030f5e0f50105073a3" title="Run the system in the main operational mode." alt="" coords="449,5,549,32"/>
<area shape="poly" title=" " alt="" coords="581,21,550,21,550,16,581,16"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="328,5,401,32"/>
<area shape="poly" title=" " alt="" coords="433,21,401,21,401,16,433,16"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,5,280,32"/>
<area shape="poly" title=" " alt="" coords="313,21,281,21,281,16,313,16"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,5,164,32"/>
<area shape="poly" title=" " alt="" coords="197,21,164,21,164,16,197,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ac8cc169e6a48bad193b7eabef662ad3a" name="ac8cc169e6a48bad193b7eabef662ad3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8cc169e6a48bad193b7eabef662ad3a">&#9670;&#160;</a></span>LoadCapacitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadCapacitor </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the capacitor array with the resistors only. </p>
<p>This function activates the GPIO pin associated with loading the capacitor array and sets the DAC to the value <b>0</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_ac8cc169e6a48bad193b7eabef662ad3a_cgraph.png" border="0" usemap="#acontrol_8c_ac8cc169e6a48bad193b7eabef662ad3a_cgraph" alt=""/></div>
<map name="acontrol_8c_ac8cc169e6a48bad193b7eabef662ad3a_cgraph" id="acontrol_8c_ac8cc169e6a48bad193b7eabef662ad3a_cgraph">
<area shape="rect" title="Load the capacitor array with the resistors only." alt="" coords="5,31,110,57"/>
<area shape="rect" href="gpio_8c.html#abd08e12472f3cc9ae4eb84f3b6fc1587" title="Set GPIOx Pin." alt="" coords="158,5,235,32"/>
<area shape="poly" title=" " alt="" coords="110,32,142,26,143,31,111,37"/>
<area shape="rect" href="analog_8c.html#ac4a51847a4d0dc35b4a609888276350b" title="Set an output Value on the DAC." alt="" coords="163,56,230,83"/>
<area shape="poly" title=" " alt="" coords="111,51,149,58,148,63,110,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_ac8cc169e6a48bad193b7eabef662ad3a_icgraph.png" border="0" usemap="#acontrol_8c_ac8cc169e6a48bad193b7eabef662ad3a_icgraph" alt=""/></div>
<map name="acontrol_8c_ac8cc169e6a48bad193b7eabef662ad3a_icgraph" id="acontrol_8c_ac8cc169e6a48bad193b7eabef662ad3a_icgraph">
<area shape="rect" title="Load the capacitor array with the resistors only." alt="" coords="789,5,894,32"/>
<area shape="rect" href="app_8c.html#a59a19445ce0eff7179732eeb566bc55a" title="Check if the capacitor array is ready." alt="" coords="597,5,741,32"/>
<area shape="poly" title=" " alt="" coords="774,21,742,21,742,16,774,16"/>
<area shape="rect" href="app_8c.html#a6d7bf2ac2364bd030f5e0f50105073a3" title="Run the system in the main operational mode." alt="" coords="449,5,549,32"/>
<area shape="poly" title=" " alt="" coords="582,21,550,21,550,16,582,16"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="328,5,401,32"/>
<area shape="poly" title=" " alt="" coords="433,21,401,21,401,16,433,16"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,5,280,32"/>
<area shape="poly" title=" " alt="" coords="313,21,281,21,281,16,313,16"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,5,164,32"/>
<area shape="poly" title=" " alt="" coords="197,21,164,21,164,16,197,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="af4b0e3fe264f62d03d90e0d5eee478f4" name="af4b0e3fe264f62d03d90e0d5eee478f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4b0e3fe264f62d03d90e0d5eee478f4">&#9670;&#160;</a></span>lTimerCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lTimerCallback </td>
          <td>(</td>
          <td class="paramtype">TimerHandle_t</td>          <td class="paramname"><span class="paramname"><em>xTimer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer callback function. It will load the capacitor array for 9ms then wait for 9ms till the array is fully loaded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_af4b0e3fe264f62d03d90e0d5eee478f4_cgraph.png" border="0" usemap="#acontrol_8c_af4b0e3fe264f62d03d90e0d5eee478f4_cgraph" alt=""/></div>
<map name="acontrol_8c_af4b0e3fe264f62d03d90e0d5eee478f4_cgraph" id="acontrol_8c_af4b0e3fe264f62d03d90e0d5eee478f4_cgraph">
<area shape="rect" title="Timer callback function. It will load the capacitor array for 9ms then wait for 9ms till the array is..." alt="" coords="5,5,112,32"/>
<area shape="rect" href="analog_8c.html#ac4a51847a4d0dc35b4a609888276350b" title="Set an output Value on the DAC." alt="" coords="160,5,226,32"/>
<area shape="poly" title=" " alt="" coords="112,16,144,16,144,21,112,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_af4b0e3fe264f62d03d90e0d5eee478f4_icgraph.png" border="0" usemap="#acontrol_8c_af4b0e3fe264f62d03d90e0d5eee478f4_icgraph" alt=""/></div>
<map name="acontrol_8c_af4b0e3fe264f62d03d90e0d5eee478f4_icgraph" id="acontrol_8c_af4b0e3fe264f62d03d90e0d5eee478f4_icgraph">
<area shape="rect" title="Timer callback function. It will load the capacitor array for 9ms then wait for 9ms till the array is..." alt="" coords="346,5,453,32"/>
<area shape="rect" href="control_8c.html#ad2b3dfd69a990b69a69c34b19a0e0d98" title="App Initialization Function." alt="" coords="212,5,298,32"/>
<area shape="poly" title=" " alt="" coords="331,21,299,21,299,16,331,16"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,5,164,32"/>
<area shape="poly" title=" " alt="" coords="196,21,165,21,165,16,196,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a6280444563f4376ab0a405e31fb61dd3" name="a6280444563f4376ab0a405e31fb61dd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6280444563f4376ab0a405e31fb61dd3">&#9670;&#160;</a></span>resetHB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetHB </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the hardware blocks and deactivates the output pins for H-Bridges. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>This function resets the hardware blocks related to H-Bridges by deactivating the corresponding GPIO pins. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a6280444563f4376ab0a405e31fb61dd3_cgraph.png" border="0" usemap="#acontrol_8c_a6280444563f4376ab0a405e31fb61dd3_cgraph" alt=""/></div>
<map name="acontrol_8c_a6280444563f4376ab0a405e31fb61dd3_cgraph" id="acontrol_8c_a6280444563f4376ab0a405e31fb61dd3_cgraph">
<area shape="rect" title="Resets the hardware blocks and deactivates the output pins for H&#45;Bridges." alt="" coords="5,31,74,57"/>
<area shape="rect" href="gpio_8c.html#a9ff9403d81abaaf32eb5e221b9e92929" title="Reset GPIOx Pin." alt="" coords="131,5,208,32"/>
<area shape="poly" title=" " alt="" coords="74,35,115,26,116,32,75,40"/>
<area shape="rect" href="pwm_8c.html#a06cab9bc7173599612154c458f1d7e1f" title="Disable the PWM generation of a all timer and all channel." alt="" coords="122,56,217,83"/>
<area shape="poly" title=" " alt="" coords="75,48,107,54,106,60,74,53"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a6280444563f4376ab0a405e31fb61dd3_icgraph.png" border="0" usemap="#acontrol_8c_a6280444563f4376ab0a405e31fb61dd3_icgraph" alt=""/></div>
<map name="acontrol_8c_a6280444563f4376ab0a405e31fb61dd3_icgraph" id="acontrol_8c_a6280444563f4376ab0a405e31fb61dd3_icgraph">
<area shape="rect" title="Resets the hardware blocks and deactivates the output pins for H&#45;Bridges." alt="" coords="919,49,987,76"/>
<area shape="rect" href="bcu_8c.html#ac3dda7769238b7cfae22ede98e16f763" title="Writes customized configuration data to flash memory." alt="" coords="477,49,573,76"/>
<area shape="poly" title=" " alt="" coords="903,65,574,65,574,60,903,60"/>
<area shape="rect" href="control_8c.html#ad2b3dfd69a990b69a69c34b19a0e0d98" title="App Initialization Function." alt="" coords="328,5,415,32"/>
<area shape="poly" title=" " alt="" coords="903,53,870,47,741,33,612,25,415,21,415,16,612,20,741,27,871,41,904,48"/>
<area shape="rect" href="app_8c.html#afa0bd8a9fbb18dccdecdaaccfa5e3141" title="Stops the control operation." alt="" coords="783,125,871,152"/>
<area shape="poly" title=" " alt="" coords="917,87,852,127,849,123,915,82"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="335,100,408,127"/>
<area shape="poly" title=" " alt="" coords="469,84,409,104,407,99,467,79"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,75,280,101"/>
<area shape="poly" title=" " alt="" coords="319,106,280,97,281,92,320,100"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,49,164,76"/>
<area shape="poly" title=" " alt="" coords="196,80,164,72,165,67,198,74"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,49,55,76"/>
<area shape="poly" title=" " alt="" coords="87,65,55,65,55,60,87,60"/>
<area shape="poly" title=" " alt="" coords="314,32,165,60,164,54,313,27"/>
<area shape="rect" href="bcu_8c.html#ad19eaee2ae8d229ef81f6e38037c02b6" title="Handles failure list requests." alt="" coords="645,100,726,127"/>
<area shape="poly" title=" " alt="" coords="767,131,726,123,727,118,768,126"/>
<area shape="rect" href="app_8c.html#a6d7bf2ac2364bd030f5e0f50105073a3" title="Run the system in the main operational mode." alt="" coords="635,151,735,177"/>
<area shape="poly" title=" " alt="" coords="769,152,736,158,735,152,768,147"/>
<area shape="rect" href="app_8c.html#ac0662e044d34f9404cf8b7a95348f2ed" title="Puts the system into sleep mode." alt="" coords="482,201,568,228"/>
<area shape="poly" title=" " alt="" coords="795,163,767,179,736,192,692,203,647,211,569,217,568,212,647,205,691,198,734,187,765,174,792,158"/>
<area shape="rect" href="app_8c.html#a3ded7d74e59ec620032bef339ca2cd1b" title="Processes incoming CAN messages." alt="" coords="463,100,587,127"/>
<area shape="poly" title=" " alt="" coords="629,116,587,116,587,111,629,111"/>
<area shape="poly" title=" " alt="" coords="447,116,408,116,408,111,447,111"/>
<area shape="poly" title=" " alt="" coords="619,162,544,154,462,141,407,127,409,122,463,136,545,149,620,157"/>
<area shape="poly" title=" " alt="" coords="480,196,461,185,387,129,390,125,464,180,482,191"/>
</map>
</div>

</div>
</div>
<a id="a04bc557c3cf1bb4f8c7d5b6391f298aa" name="a04bc557c3cf1bb4f8c7d5b6391f298aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04bc557c3cf1bb4f8c7d5b6391f298aa">&#9670;&#160;</a></span>setDigHB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setDigHB </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>otuput</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>enable</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the Power Output 5 or 6 to ON or OFF the safety signal has to be released. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Output</td><td>This could be Output 5 or 6 on the BCU </td></tr>
    <tr><td class="paramname">Enable</td><td>Indicates if the Output is High or Low </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a04bc557c3cf1bb4f8c7d5b6391f298aa_cgraph.png" border="0" usemap="#acontrol_8c_a04bc557c3cf1bb4f8c7d5b6391f298aa_cgraph" alt=""/></div>
<map name="acontrol_8c_a04bc557c3cf1bb4f8c7d5b6391f298aa_cgraph" id="acontrol_8c_a04bc557c3cf1bb4f8c7d5b6391f298aa_cgraph">
<area shape="rect" title="Set the Power Output 5 or 6 to ON or OFF the safety signal has to be released." alt="" coords="5,31,82,57"/>
<area shape="rect" href="gpio_8c.html#a9ff9403d81abaaf32eb5e221b9e92929" title="Reset GPIOx Pin." alt="" coords="130,5,207,32"/>
<area shape="poly" title=" " alt="" coords="82,34,115,27,116,32,83,39"/>
<area shape="rect" href="gpio_8c.html#abd08e12472f3cc9ae4eb84f3b6fc1587" title="Set GPIOx Pin." alt="" coords="130,56,207,83"/>
<area shape="poly" title=" " alt="" coords="83,49,115,56,114,61,82,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a04bc557c3cf1bb4f8c7d5b6391f298aa_icgraph.png" border="0" usemap="#acontrol_8c_a04bc557c3cf1bb4f8c7d5b6391f298aa_icgraph" alt=""/></div>
<map name="acontrol_8c_a04bc557c3cf1bb4f8c7d5b6391f298aa_icgraph" id="acontrol_8c_a04bc557c3cf1bb4f8c7d5b6391f298aa_icgraph">
<area shape="rect" title="Set the Power Output 5 or 6 to ON or OFF the safety signal has to be released." alt="" coords="597,5,673,32"/>
<area shape="rect" href="app_8c.html#a6d7bf2ac2364bd030f5e0f50105073a3" title="Run the system in the main operational mode." alt="" coords="449,5,549,32"/>
<area shape="poly" title=" " alt="" coords="582,21,549,21,549,16,582,16"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="328,5,401,32"/>
<area shape="poly" title=" " alt="" coords="433,21,401,21,401,16,433,16"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,5,280,32"/>
<area shape="poly" title=" " alt="" coords="313,21,281,21,281,16,313,16"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,5,164,32"/>
<area shape="poly" title=" " alt="" coords="197,21,164,21,164,16,197,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a542068544aa686feac15c99bfd046119" name="a542068544aa686feac15c99bfd046119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542068544aa686feac15c99bfd046119">&#9670;&#160;</a></span>setHB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setHB </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>outputn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a value in the PWM Timer Moudule if the HB is enabled and the safety signal is released. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Outputn</td><td>Is the Outputnumber from 0-3 </td></tr>
    <tr><td class="paramname">Val</td><td>Set the Pulse width </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>\Note The Outputnumber 0 correspnd with HB Out1 and so on! </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a542068544aa686feac15c99bfd046119_cgraph.png" border="0" usemap="#acontrol_8c_a542068544aa686feac15c99bfd046119_cgraph" alt=""/></div>
<map name="acontrol_8c_a542068544aa686feac15c99bfd046119_cgraph" id="acontrol_8c_a542068544aa686feac15c99bfd046119_cgraph">
<area shape="rect" title="Set a value in the PWM Timer Moudule if the HB is enabled and the safety signal is released." alt="" coords="5,81,63,108"/>
<area shape="rect" href="control_8c.html#a19a26662f637f824c3106877abcccc30" title="This function recalculate the value to be in boundrey from valmin and valmax." alt="" coords="161,5,219,32"/>
<area shape="poly" title=" " alt="" coords="52,78,109,42,144,28,146,33,112,46,54,83"/>
<area shape="rect" href="pwm_8c.html#ab323ae0cec4f67e625bf18146587f42e" title=" " alt="" coords="111,56,269,83"/>
<area shape="poly" title=" " alt="" coords="63,87,95,82,96,87,64,93"/>
<area shape="rect" href="pwm_8c.html#a130be5c16985e42236c37f9a591d8321" title="Set the val of a timer channel." alt="" coords="149,107,231,133"/>
<area shape="poly" title=" " alt="" coords="64,97,134,108,134,114,63,102"/>
<area shape="rect" href="app_8c.html#a72d43f87749a58cd3c3a050013d62c34" title="Adds an item to the error queue." alt="" coords="317,132,379,159"/>
<area shape="poly" title=" " alt="" coords="52,106,78,127,112,143,161,153,212,156,302,150,302,156,212,162,160,158,110,148,75,131,48,111"/>
<area shape="poly" title=" " alt="" coords="231,124,302,135,301,141,230,129"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a542068544aa686feac15c99bfd046119_icgraph.png" border="0" usemap="#acontrol_8c_a542068544aa686feac15c99bfd046119_icgraph" alt=""/></div>
<map name="acontrol_8c_a542068544aa686feac15c99bfd046119_icgraph" id="acontrol_8c_a542068544aa686feac15c99bfd046119_icgraph">
<area shape="rect" title="Set a value in the PWM Timer Moudule if the HB is enabled and the safety signal is released." alt="" coords="597,5,654,32"/>
<area shape="rect" href="app_8c.html#a6d7bf2ac2364bd030f5e0f50105073a3" title="Run the system in the main operational mode." alt="" coords="449,5,549,32"/>
<area shape="poly" title=" " alt="" coords="581,21,550,21,550,16,581,16"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="328,5,401,32"/>
<area shape="poly" title=" " alt="" coords="433,21,401,21,401,16,433,16"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,5,280,32"/>
<area shape="poly" title=" " alt="" coords="313,21,281,21,281,16,313,16"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,5,164,32"/>
<area shape="poly" title=" " alt="" coords="197,21,164,21,164,16,197,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="aa2b5bccfe7b559e70e81d4db11d37f21" name="aa2b5bccfe7b559e70e81d4db11d37f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b5bccfe7b559e70e81d4db11d37f21">&#9670;&#160;</a></span>SetPWMConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetPWMConfig </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>out</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>istart</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>istop</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the PWM configuration for a specific output channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>The channel number of the control module. </td></tr>
    <tr><td class="paramname">istart</td><td>The start value of the current. </td></tr>
    <tr><td class="paramname">istop</td><td>The stop value of the current. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>This function sets the PWM configuration for a specific output channel. It calculates the minimum and maximum values of the PWM signal based on the start and stop values of the current, and initializes the output channel accordingly. The minimum and maximum values are determined based on the period of the PWM timer. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_aa2b5bccfe7b559e70e81d4db11d37f21_cgraph.png" border="0" usemap="#acontrol_8c_aa2b5bccfe7b559e70e81d4db11d37f21_cgraph" alt=""/></div>
<map name="acontrol_8c_aa2b5bccfe7b559e70e81d4db11d37f21_cgraph" id="acontrol_8c_aa2b5bccfe7b559e70e81d4db11d37f21_cgraph">
<area shape="rect" title="Sets the PWM configuration for a specific output channel." alt="" coords="5,5,116,32"/>
<area shape="rect" href="pwm_8c.html#adaa6449a0f5c7ca037c67fc4c3a12c71" title=" " alt="" coords="164,5,319,32"/>
<area shape="poly" title=" " alt="" coords="116,16,149,16,149,21,116,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_aa2b5bccfe7b559e70e81d4db11d37f21_icgraph.png" border="0" usemap="#acontrol_8c_aa2b5bccfe7b559e70e81d4db11d37f21_icgraph" alt=""/></div>
<map name="acontrol_8c_aa2b5bccfe7b559e70e81d4db11d37f21_icgraph" id="acontrol_8c_aa2b5bccfe7b559e70e81d4db11d37f21_icgraph">
<area shape="rect" title="Sets the PWM configuration for a specific output channel." alt="" coords="831,5,941,32"/>
<area shape="rect" href="bcu_8c.html#ac36ba122e238bf4a7d362ede099ef956" title="Set up PWM configurations based on configuration data." alt="" coords="694,5,783,32"/>
<area shape="poly" title=" " alt="" coords="815,21,783,21,783,16,815,16"/>
<area shape="rect" href="app_8c.html#a1094a9e2dc4966d0da3834dd8767e3ec" title="Initialize the system during startup." alt="" coords="583,5,646,32"/>
<area shape="poly" title=" " alt="" coords="679,21,647,21,647,16,679,16"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="328,5,401,32"/>
<area shape="poly" title=" " alt="" coords="567,21,401,21,401,16,567,16"/>
<area shape="rect" href="app_8c.html#ac0662e044d34f9404cf8b7a95348f2ed" title="Puts the system into sleep mode." alt="" coords="449,31,535,57"/>
<area shape="poly" title=" " alt="" coords="568,31,536,38,535,33,567,26"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,5,280,32"/>
<area shape="poly" title=" " alt="" coords="313,21,281,21,281,16,313,16"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,5,164,32"/>
<area shape="poly" title=" " alt="" coords="197,21,164,21,164,16,197,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
<area shape="poly" title=" " alt="" coords="433,35,400,28,401,23,434,30"/>
</map>
</div>

</div>
</div>
<a id="a96c2fc44f420b191b9700486423e9712" name="a96c2fc44f420b191b9700486423e9712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c2fc44f420b191b9700486423e9712">&#9670;&#160;</a></span>setRelease()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setRelease </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>signal</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>on</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the release status of a specified signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signal</td><td>The signal identifier. </td></tr>
    <tr><td class="paramname">on</td><td>Indicates whether to turn the signal on or off.</td></tr>
  </table>
  </dd>
</dl>
<p>This function sets the release status of the specified signal. The signal can be either the safety signal or the HB enable signal. If the signal is set to turn on, the corresponding GPIO pin is set high. If the signal is set to turn off, the corresponding GPIO pin is set low. Additionally, the internal status flags for safety signal and HB enable are updated accordingly. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a96c2fc44f420b191b9700486423e9712_cgraph.png" border="0" usemap="#acontrol_8c_a96c2fc44f420b191b9700486423e9712_cgraph" alt=""/></div>
<map name="acontrol_8c_a96c2fc44f420b191b9700486423e9712_cgraph" id="acontrol_8c_a96c2fc44f420b191b9700486423e9712_cgraph">
<area shape="rect" title="Sets the release status of a specified signal." alt="" coords="5,56,92,83"/>
<area shape="rect" href="gpio_8c.html#a9ff9403d81abaaf32eb5e221b9e92929" title="Reset GPIOx Pin." alt="" coords="149,5,226,32"/>
<area shape="poly" title=" " alt="" coords="86,53,134,35,136,40,88,58"/>
<area shape="rect" href="gpio_8c.html#abd08e12472f3cc9ae4eb84f3b6fc1587" title="Set GPIOx Pin." alt="" coords="149,56,226,83"/>
<area shape="poly" title=" " alt="" coords="92,67,133,67,133,72,92,72"/>
<area shape="rect" href="pwm_8c.html#a06cab9bc7173599612154c458f1d7e1f" title="Disable the PWM generation of a all timer and all channel." alt="" coords="140,107,235,133"/>
<area shape="poly" title=" " alt="" coords="88,81,136,98,134,103,86,86"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8c_a96c2fc44f420b191b9700486423e9712_icgraph.png" border="0" usemap="#acontrol_8c_a96c2fc44f420b191b9700486423e9712_icgraph" alt=""/></div>
<map name="acontrol_8c_a96c2fc44f420b191b9700486423e9712_icgraph" id="acontrol_8c_a96c2fc44f420b191b9700486423e9712_icgraph">
<area shape="rect" title="Sets the release status of a specified signal." alt="" coords="978,169,1064,196"/>
<area shape="rect" href="bcu_8c.html#ac3dda7769238b7cfae22ede98e16f763" title="Writes customized configuration data to flash memory." alt="" coords="477,5,573,32"/>
<area shape="poly" title=" " alt="" coords="998,159,967,126,928,96,884,73,836,55,738,32,646,22,573,20,573,14,647,17,739,27,838,50,886,68,931,91,971,122,1002,155"/>
<area shape="rect" href="control_8c.html#ad2b3dfd69a990b69a69c34b19a0e0d98" title="App Initialization Function." alt="" coords="328,283,415,309"/>
<area shape="poly" title=" " alt="" coords="1007,211,976,252,955,271,931,286,862,312,789,327,715,335,643,336,574,332,511,325,415,309,416,303,512,320,574,327,643,331,715,330,788,322,860,307,928,282,952,267,972,248,1003,208"/>
<area shape="rect" href="app_8c.html#ab3ec4c5dac6aa15eff2d8a7fb17a8cfe" title="Starts the control process." alt="" coords="805,245,894,272"/>
<area shape="poly" title=" " alt="" coords="976,205,883,247,880,242,974,200"/>
<area shape="rect" href="app_8c.html#afa0bd8a9fbb18dccdecdaaccfa5e3141" title="Stops the control operation." alt="" coords="806,105,893,132"/>
<area shape="poly" title=" " alt="" coords="968,166,886,135,888,130,970,161"/>
<area shape="rect" href="app_8c.html#a3d201cee0d357546610c3688dffd7cd3" title="Stop the motor control supply if conditions are met." alt="" coords="769,169,930,196"/>
<area shape="poly" title=" " alt="" coords="962,185,930,185,930,180,962,180"/>
<area shape="rect" href="app_8c.html#ab7cd561feb9150366a3bae1506d29f03" title="Main application task." alt="" coords="335,144,408,171"/>
<area shape="poly" title=" " alt="" coords="486,42,464,58,418,104,385,145,381,142,415,100,461,54,483,38"/>
<area shape="rect" href="app_8c.html#a88b5c748c6eb7ba3c5af94716f14bb45" title="Initializes the application." alt="" coords="212,156,280,183"/>
<area shape="poly" title=" " alt="" coords="320,165,281,169,281,163,319,160"/>
<area shape="rect" href="platform_8c.html#a0651118fc777b5c63724b9ec785c86f3" title="Platform initialization." alt="" coords="103,207,164,233"/>
<area shape="poly" title=" " alt="" coords="202,192,165,209,163,204,200,187"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,207,55,233"/>
<area shape="poly" title=" " alt="" coords="87,223,55,223,55,217,87,217"/>
<area shape="poly" title=" " alt="" coords="313,280,164,232,165,227,314,275"/>
<area shape="rect" href="app_8c.html#ad6f094c81d90b7dadd720d6b032a57a6" title="Activate control based on tank volume difference." alt="" coords="640,245,716,272"/>
<area shape="poly" title=" " alt="" coords="790,261,717,261,717,256,790,256"/>
<area shape="rect" href="app_8c.html#a6d7bf2ac2364bd030f5e0f50105073a3" title="Run the system in the main operational mode." alt="" coords="475,195,575,221"/>
<area shape="poly" title=" " alt="" coords="624,244,567,225,569,219,626,239"/>
<area shape="poly" title=" " alt="" coords="467,192,407,172,409,167,469,187"/>
<area shape="poly" title=" " alt="" coords="790,117,715,118,675,124,636,135,608,147,582,164,542,196,539,192,579,159,605,142,634,129,674,119,715,113,790,111"/>
<area shape="rect" href="bcu_8c.html#ad19eaee2ae8d229ef81f6e38037c02b6" title="Handles failure list requests." alt="" coords="638,43,719,69"/>
<area shape="poly" title=" " alt="" coords="796,102,716,72,718,67,798,97"/>
<area shape="rect" href="app_8c.html#ac0662e044d34f9404cf8b7a95348f2ed" title="Puts the system into sleep mode." alt="" coords="635,144,721,171"/>
<area shape="poly" title=" " alt="" coords="791,134,722,150,721,145,790,129"/>
<area shape="rect" href="app_8c.html#a3ded7d74e59ec620032bef339ca2cd1b" title="Processes incoming CAN messages." alt="" coords="463,68,587,95"/>
<area shape="poly" title=" " alt="" coords="622,68,588,74,587,68,622,63"/>
<area shape="poly" title=" " alt="" coords="483,105,401,146,399,141,481,100"/>
<area shape="poly" title=" " alt="" coords="620,160,408,160,408,155,620,155"/>
<area shape="poly" title=" " alt="" coords="754,193,576,207,575,201,753,187"/>
<area shape="poly" title=" " alt="" coords="754,171,721,166,722,161,754,166"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0480b812cba9c1d9c71a5fb1071bd0fc" name="a0480b812cba9c1d9c71a5fb1071bd0fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0480b812cba9c1d9c71a5fb1071bd0fc">&#9670;&#160;</a></span>counter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t counter = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5b0fe93f7b683514959d2e651ac9f010" name="a5b0fe93f7b683514959d2e651ac9f010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b0fe93f7b683514959d2e651ac9f010">&#9670;&#160;</a></span>hbenable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool hbenable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2b2839e559538c716119bf996e33c5f8" name="a2b2839e559538c716119bf996e33c5f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2839e559538c716119bf996e33c5f8">&#9670;&#160;</a></span>LoadTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TimerHandle_t LoadTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8aeab26c27b95fc84df7b9a84ed1b007" name="a8aeab26c27b95fc84df7b9a84ed1b007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aeab26c27b95fc84df7b9a84ed1b007">&#9670;&#160;</a></span>output</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpwm__t.html">pwm_t</a> output[4]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a023242a8abe89419208cfe39bb124e2e" name="a023242a8abe89419208cfe39bb124e2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023242a8abe89419208cfe39bb124e2e">&#9670;&#160;</a></span>safetysignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool safetysignal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
